<div class = "panel panel-primary">
  <div class="panel-heading">
     <h3 class="panel-title">Equipment and Services</h3>
    </div>
    <div class="panel-body">
  <table class = "table table-striped table-hover" id = "services">
    <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Owner of Equipment</th>
      <th>Is Serviced?</th>
      <th>Start date</th>
      <th>End date</th>
      <th>User Mail</th>
      <th>User Lastname</th>
    </tr>
    </thead>

    
    <tbody>
      <% @services.each do |service| %>
    <tr>
      <tr>
        <td><%= service.name %></td>
        <td><%= truncate(service.description, length: 20, separator: ' ') %></td>
        <td><%= service.owner_of_equipment %></td>
        <td><%= service.status %></td>
        <td><%= service.try(:start_date).try(:to_date) %></td>
        <td><%= service.try(:end_date).try(:to_date) %></td>
        <td><%= service.user.email if service.user %></td>
        <td><%= service.user.lastname if service.user %></td>
      </tr>
    </tr>
    <% end %>
  </tbody>
    
  </table>

</div>

</div>

<script type="text/javascript">
$(document).on('turbolinks:load', function() {
$('#services').DataTable({

  // ajax: ...,
  autoWidth: true,
  // autoWidth: false,
  // pagingType: 'full_numbers',
  // processing: true,
  // serverSide: true,

  // Optional, if you want full pagination controls.
  // Check dataTables documentation to learn more about available options.
  // http://datatables.net/reference/option/pagingType
});
});
</script>